#!/usr/bin/env node
import{createWriteStream as Xi,createReadStream as Zi,readFileSync as Be,writeFileSync as Qi,renameSync as ts,statSync as es,cpSync as rs}from"node:fs";import V,{dirname as is,join as it}from"node:path";import{fileURLToPath as st}from"node:url";import{Buffer as ss}from"node:buffer";import He,{ChildProcess as ns}from"node:child_process";import k from"node:process";import os from"child_process";import nt from"path";import ot from"fs";import as,{constants as Ue}from"node:os";import{setTimeout as us}from"node:timers/promises";import ls from"stream";import{debuglog as hs}from"node:util";import cs from"tty";import Ye from"readline";import Ve from"events";var ds=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function J(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W={exports:{}},at,We;function fs(){if(We)return at;We=1,at=r,r.sync=n;var t=ot;function e(u,s){var d=s.pathExt!==void 0?s.pathExt:process.env.PATHEXT;if(!d||(d=d.split(";"),d.indexOf("")!==-1))return!0;for(var a=0;a<d.length;a++){var h=d[a].toLowerCase();if(h&&u.substr(-h.length).toLowerCase()===h)return!0}return!1}function i(u,s,d){return!u.isSymbolicLink()&&!u.isFile()?!1:e(s,d)}function r(u,s,d){t.stat(u,function(a,h){d(a,a?!1:i(h,u,s))})}function n(u,s){return i(t.statSync(u),u,s)}return at}var ut,ze;function ps(){if(ze)return ut;ze=1,ut=e,e.sync=i;var t=ot;function e(u,s,d){t.stat(u,function(a,h){d(a,a?!1:r(h,s))})}function i(u,s){return r(t.statSync(u),s)}function r(u,s){return u.isFile()&&n(u,s)}function n(u,s){var d=u.mode,a=u.uid,h=u.gid,o=s.uid!==void 0?s.uid:process.getuid&&process.getuid(),p=s.gid!==void 0?s.gid:process.getgid&&process.getgid(),f=parseInt("100",8),l=parseInt("010",8),c=parseInt("001",8),v=f|l,b=d&c||d&l&&h===p||d&f&&a===o||d&v&&o===0;return b}return ut}var X;process.platform==="win32"||ds.TESTING_WINDOWS?X=fs():X=ps();var ms=lt;lt.sync=gs;function lt(t,e,i){if(typeof e=="function"&&(i=e,e={}),!i){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(r,n){lt(t,e||{},function(u,s){u?n(u):r(s)})})}X(t,e||{},function(r,n){r&&(r.code==="EACCES"||e&&e.ignoreErrors)&&(r=null,n=!1),i(r,n)})}function gs(t,e){try{return X.sync(t,e||{})}catch(i){if(e&&e.ignoreErrors||i.code==="EACCES")return!1;throw i}}const z=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Ke=nt,bs=z?";":":",Je=ms,Xe=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),Ze=(t,e)=>{const i=e.colon||bs,r=t.match(/\//)||z&&t.match(/\\/)?[""]:[...z?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(i)],n=z?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",u=z?n.split(i):[""];return z&&t.indexOf(".")!==-1&&u[0]!==""&&u.unshift(""),{pathEnv:r,pathExt:u,pathExtExe:n}},Qe=(t,e,i)=>{typeof e=="function"&&(i=e,e={}),e||(e={});const{pathEnv:r,pathExt:n,pathExtExe:u}=Ze(t,e),s=[],d=h=>new Promise((o,p)=>{if(h===r.length)return e.all&&s.length?o(s):p(Xe(t));const f=r[h],l=/^".*"$/.test(f)?f.slice(1,-1):f,c=Ke.join(l,t),v=!l&&/^\.[\\\/]/.test(t)?t.slice(0,2)+c:c;o(a(v,h,0))}),a=(h,o,p)=>new Promise((f,l)=>{if(p===n.length)return f(d(o+1));const c=n[p];Je(h+c,{pathExt:u},(v,b)=>{if(!v&&b)if(e.all)s.push(h+c);else return f(h+c);return f(a(h,o,p+1))})});return i?d(0).then(h=>i(null,h),i):d(0)},vs=(t,e)=>{e=e||{};const{pathEnv:i,pathExt:r,pathExtExe:n}=Ze(t,e),u=[];for(let s=0;s<i.length;s++){const d=i[s],a=/^".*"$/.test(d)?d.slice(1,-1):d,h=Ke.join(a,t),o=!a&&/^\.[\\\/]/.test(t)?t.slice(0,2)+h:h;for(let p=0;p<r.length;p++){const f=o+r[p];try{if(Je.sync(f,{pathExt:n}))if(e.all)u.push(f);else return f}catch{}}}if(e.all&&u.length)return u;if(e.nothrow)return null;throw Xe(t)};var ys=Qe;Qe.sync=vs;var ht={exports:{}};const tr=(t={})=>{const e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(r=>r.toUpperCase()==="PATH")||"Path"};ht.exports=tr,ht.exports.default=tr;var ws=ht.exports;const er=nt,xs=ys,Ss=ws;function rr(t,e){const i=t.options.env||process.env,r=process.cwd(),n=t.options.cwd!=null,u=n&&process.chdir!==void 0&&!process.chdir.disabled;if(u)try{process.chdir(t.options.cwd)}catch{}let s;try{s=xs.sync(t.command,{path:i[Ss({env:i})],pathExt:e?er.delimiter:void 0})}catch{}finally{u&&process.chdir(r)}return s&&(s=er.resolve(n?t.options.cwd:"",s)),s}function $s(t){return rr(t)||rr(t,!0)}var Ts=$s,ct={};const dt=/([()\][%!^"`<>&|;, *?])/g;function Ps(t){return t=t.replace(dt,"^$1"),t}function Os(t,e){return t=`${t}`,t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t=`"${t}"`,t=t.replace(dt,"^$1"),e&&(t=t.replace(dt,"^$1")),t}ct.command=Ps,ct.argument=Os;var Es=/^#!(.*)/;const Ms=Es;var Is=(t="")=>{const e=t.match(Ms);if(!e)return null;const[i,r]=e[0].replace(/#! ?/,"").split(" "),n=i.split("/").pop();return n==="env"?r:r?`${n} ${r}`:n};const ft=ot,Cs=Is;function Rs(t){const i=Buffer.alloc(150);let r;try{r=ft.openSync(t,"r"),ft.readSync(r,i,0,150,0),ft.closeSync(r)}catch{}return Cs(i.toString())}var As=Rs;const Ds=nt,ir=Ts,sr=ct,_s=As,qs=process.platform==="win32",js=/\.(?:com|exe)$/i,ks=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Fs(t){t.file=ir(t);const e=t.file&&_s(t.file);return e?(t.args.unshift(t.file),t.command=e,ir(t)):t.file}function Gs(t){if(!qs)return t;const e=Fs(t),i=!js.test(e);if(t.options.forceShell||i){const r=ks.test(e);t.command=Ds.normalize(t.command),t.command=sr.command(t.command),t.args=t.args.map(u=>sr.argument(u,r));const n=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${n}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function Ls(t,e,i){e&&!Array.isArray(e)&&(i=e,e=null),e=e?e.slice(0):[],i=Object.assign({},i);const r={command:t,args:e,options:i,file:void 0,original:{command:t,args:e}};return i.shell?r:Gs(r)}var Ns=Ls;const pt=process.platform==="win32";function mt(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function Bs(t,e){if(!pt)return;const i=t.emit;t.emit=function(r,n){if(r==="exit"){const u=nr(n,e);if(u)return i.call(t,"error",u)}return i.apply(t,arguments)}}function nr(t,e){return pt&&t===1&&!e.file?mt(e.original,"spawn"):null}function Hs(t,e){return pt&&t===1&&!e.file?mt(e.original,"spawnSync"):null}var Us={hookChildProcess:Bs,verifyENOENT:nr,verifyENOENTSync:Hs,notFoundError:mt};const or=os,gt=Ns,bt=Us;function ar(t,e,i){const r=gt(t,e,i),n=or.spawn(r.command,r.args,r.options);return bt.hookChildProcess(n,r),n}function Ys(t,e,i){const r=gt(t,e,i),n=or.spawnSync(r.command,r.args,r.options);return n.error=n.error||bt.verifyENOENTSync(n.status,r),n}W.exports=ar,W.exports.spawn=ar,W.exports.sync=Ys,W.exports._parse=gt,W.exports._enoent=bt;var Vs=W.exports;const Ws=J(Vs);function zs(t){const e=typeof t=="string"?`
`:10,i=typeof t=="string"?"\r":13;return t[t.length-1]===e&&(t=t.slice(0,-1)),t[t.length-1]===i&&(t=t.slice(0,-1)),t}function ur(t={}){const{env:e=process.env,platform:i=process.platform}=t;return i!=="win32"?"PATH":Object.keys(e).reverse().find(r=>r.toUpperCase()==="PATH")||"Path"}const Ks=({cwd:t=k.cwd(),path:e=k.env[ur()],preferLocal:i=!0,execPath:r=k.execPath,addExecPath:n=!0}={})=>{const u=t instanceof URL?st(t):t,s=V.resolve(u),d=[];return i&&Js(d,s),n&&Xs(d,r,s),[...d,e].join(V.delimiter)},Js=(t,e)=>{let i;for(;i!==e;)t.push(V.join(e,"node_modules/.bin")),i=e,e=V.resolve(e,"..")},Xs=(t,e,i)=>{const r=e instanceof URL?st(e):e;t.push(V.resolve(i,r,".."))},Zs=({env:t=k.env,...e}={})=>{t={...t};const i=ur({env:t});return e.path=t[i],t[i]=Ks(e),t},Qs=(t,e,i,r)=>{if(i==="length"||i==="prototype"||i==="arguments"||i==="caller")return;const n=Object.getOwnPropertyDescriptor(t,i),u=Object.getOwnPropertyDescriptor(e,i);!tn(n,u)&&r||Object.defineProperty(t,i,u)},tn=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},en=(t,e)=>{const i=Object.getPrototypeOf(e);i!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,i)},rn=(t,e)=>`/* Wrapped ${t}*/
${e}`,sn=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),nn=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),on=(t,e,i)=>{const r=i===""?"":`with ${i.trim()}() `,n=rn.bind(null,r,e.toString());Object.defineProperty(n,"name",nn),Object.defineProperty(t,"toString",{...sn,value:n})};function an(t,e,{ignoreNonConfigurable:i=!1}={}){const{name:r}=t;for(const n of Reflect.ownKeys(e))Qs(t,e,n,i);return en(t,e),on(t,e,r),t}const Z=new WeakMap,lr=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let i,r=0;const n=t.displayName||t.name||"<anonymous>",u=function(...s){if(Z.set(u,++r),r===1)i=t.apply(this,s),t=null;else if(e.throw===!0)throw new Error(`Function \`${n}\` can only be called once`);return i};return an(u,t),Z.set(u,r),u};lr.callCount=t=>{if(!Z.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return Z.get(t)};const un=()=>{const t=cr-hr+1;return Array.from({length:t},ln)},ln=(t,e)=>({name:`SIGRT${e+1}`,number:hr+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),hr=34,cr=64,hn=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}],dr=()=>{const t=un();return[...hn,...t].map(cn)},cn=({name:t,number:e,description:i,action:r,forced:n=!1,standard:u})=>{const{signals:{[t]:s}}=Ue,d=s!==void 0;return{name:t,number:d?s:e,description:i,supported:d,action:r,forced:n,standard:u}},dn=()=>{const t=dr();return Object.fromEntries(t.map(fn))},fn=({name:t,number:e,description:i,supported:r,action:n,forced:u,standard:s})=>[t,{name:t,number:e,description:i,supported:r,action:n,forced:u,standard:s}],pn=dn(),mn=()=>{const t=dr(),e=cr+1,i=Array.from({length:e},(r,n)=>gn(n,t));return Object.assign({},...i)},gn=(t,e)=>{const i=bn(t,e);if(i===void 0)return{};const{name:r,description:n,supported:u,action:s,forced:d,standard:a}=i;return{[t]:{name:r,number:t,description:n,supported:u,action:s,forced:d,standard:a}}},bn=(t,e)=>{const i=e.find(({name:r})=>Ue.signals[r]===t);return i!==void 0?i:e.find(r=>r.number===t)};mn();const vn=({timedOut:t,timeout:e,errorCode:i,signal:r,signalDescription:n,exitCode:u,isCanceled:s})=>t?`timed out after ${e} milliseconds`:s?"was canceled":i!==void 0?`failed with ${i}`:r!==void 0?`was killed with ${r} (${n})`:u!==void 0?`failed with exit code ${u}`:"failed",fr=({stdout:t,stderr:e,all:i,error:r,signal:n,exitCode:u,command:s,escapedCommand:d,timedOut:a,isCanceled:h,killed:o,parsed:{options:{timeout:p,cwd:f=k.cwd()}}})=>{u=u===null?void 0:u,n=n===null?void 0:n;const l=n===void 0?void 0:pn[n].description,c=r&&r.code,b=`Command ${vn({timedOut:a,timeout:p,errorCode:c,signal:n,signalDescription:l,exitCode:u,isCanceled:h})}: ${s}`,g=Object.prototype.toString.call(r)==="[object Error]",m=g?`${b}
${r.message}`:b,y=[m,e,t].filter(Boolean).join(`
`);return g?(r.originalMessage=r.message,r.message=y):r=new Error(y),r.shortMessage=m,r.command=s,r.escapedCommand=d,r.exitCode=u,r.signal=n,r.signalDescription=l,r.stdout=t,r.stderr=e,r.cwd=f,i!==void 0&&(r.all=i),"bufferedData"in r&&delete r.bufferedData,r.failed=!0,r.timedOut=!!a,r.isCanceled=h,r.killed=o&&!a,r},Q=["stdin","stdout","stderr"],yn=t=>Q.some(e=>t[e]!==void 0),wn=t=>{if(!t)return;const{stdio:e}=t;if(e===void 0)return Q.map(r=>t[r]);if(yn(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${Q.map(r=>`\`${r}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);const i=Math.max(e.length,Q.length);return Array.from({length:i},(r,n)=>e[n])},K=[];K.push("SIGHUP","SIGINT","SIGTERM"),process.platform!=="win32"&&K.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),process.platform==="linux"&&K.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");const tt=t=>!!t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function",vt=Symbol.for("signal-exit emitter"),yt=globalThis,xn=Object.defineProperty.bind(Object);class Sn{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(yt[vt])return yt[vt];xn(yt,vt,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(e,i){this.listeners[e].push(i)}removeListener(e,i){const r=this.listeners[e],n=r.indexOf(i);n!==-1&&(n===0&&r.length===1?r.length=0:r.splice(n,1))}emit(e,i,r){if(this.emitted[e])return!1;this.emitted[e]=!0;let n=!1;for(const u of this.listeners[e])n=u(i,r)===!0||n;return e==="exit"&&(n=this.emit("afterExit",i,r)||n),n}}class pr{}const $n=t=>({onExit(e,i){return t.onExit(e,i)},load(){return t.load()},unload(){return t.unload()}});class Tn extends pr{onExit(){return()=>{}}load(){}unload(){}}class Pn extends pr{#o=wt.platform==="win32"?"SIGINT":"SIGHUP";#e=new Sn;#t;#s;#n;#i={};#r=!1;constructor(e){super(),this.#t=e,this.#i={};for(const i of K)this.#i[i]=()=>{const r=this.#t.listeners(i);let{count:n}=this.#e;const u=e;if(typeof u.__signal_exit_emitter__=="object"&&typeof u.__signal_exit_emitter__.count=="number"&&(n+=u.__signal_exit_emitter__.count),r.length===n){this.unload();const s=this.#e.emit("exit",null,i),d=i==="SIGHUP"?this.#o:i;s||e.kill(e.pid,d)}};this.#n=e.reallyExit,this.#s=e.emit}onExit(e,i){if(!tt(this.#t))return()=>{};this.#r===!1&&this.load();const r=i?.alwaysLast?"afterExit":"exit";return this.#e.on(r,e),()=>{this.#e.removeListener(r,e),this.#e.listeners.exit.length===0&&this.#e.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#r){this.#r=!0,this.#e.count+=1;for(const e of K)try{const i=this.#i[e];i&&this.#t.on(e,i)}catch{}this.#t.emit=(e,...i)=>this.#u(e,...i),this.#t.reallyExit=e=>this.#a(e)}}unload(){this.#r&&(this.#r=!1,K.forEach(e=>{const i=this.#i[e];if(!i)throw new Error("Listener not defined for signal: "+e);try{this.#t.removeListener(e,i)}catch{}}),this.#t.emit=this.#s,this.#t.reallyExit=this.#n,this.#e.count-=1)}#a(e){return tt(this.#t)?(this.#t.exitCode=e||0,this.#e.emit("exit",this.#t.exitCode,null),this.#n.call(this.#t,this.#t.exitCode)):0}#u(e,...i){const r=this.#s;if(e==="exit"&&tt(this.#t)){typeof i[0]=="number"&&(this.#t.exitCode=i[0]);const n=r.call(this.#t,e,...i);return this.#e.emit("exit",this.#t.exitCode,null),n}else return r.call(this.#t,e,...i)}}const wt=globalThis.process,{onExit:On,load:iu,unload:su}=$n(tt(wt)?new Pn(wt):new Tn),En=1e3*5,Mn=(t,e="SIGTERM",i={})=>{const r=t(e);return In(t,e,i,r),r},In=(t,e,i,r)=>{if(!Cn(e,i,r))return;const n=An(i),u=setTimeout(()=>{t("SIGKILL")},n);u.unref&&u.unref()},Cn=(t,{forceKillAfterTimeout:e},i)=>Rn(t)&&e!==!1&&i,Rn=t=>t===as.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",An=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return En;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},Dn=(t,e)=>{t.kill()&&(e.isCanceled=!0)},_n=(t,e,i)=>{t.kill(e),i(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},qn=(t,{timeout:e,killSignal:i="SIGTERM"},r)=>{if(e===0||e===void 0)return r;let n;const u=new Promise((d,a)=>{n=setTimeout(()=>{_n(t,i,a)},e)}),s=r.finally(()=>{clearTimeout(n)});return Promise.race([u,s])},jn=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},kn=async(t,{cleanup:e,detached:i},r)=>{if(!e||i)return r;const n=On(()=>{t.kill()});return r.finally(()=>{n()})};function mr(t){return t!==null&&typeof t=="object"&&typeof t.pipe=="function"}function gr(t){return mr(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object"}const Fn=t=>t instanceof ns&&typeof t.then=="function",xt=(t,e,i)=>{if(typeof i=="string")return t[e].pipe(Xi(i)),t;if(gr(i))return t[e].pipe(i),t;if(!Fn(i))throw new TypeError("The second argument must be a string, a stream or an Execa child process.");if(!gr(i.stdin))throw new TypeError("The target child process's stdin must be available.");return t[e].pipe(i.stdin),i},Gn=t=>{t.stdout!==null&&(t.pipeStdout=xt.bind(void 0,t,"stdout")),t.stderr!==null&&(t.pipeStderr=xt.bind(void 0,t,"stderr")),t.all!==void 0&&(t.pipeAll=xt.bind(void 0,t,"all"))},br=async(t,{init:e,convertChunk:i,getSize:r,truncateChunk:n,addChunk:u,getFinalChunk:s,finalize:d},{maxBuffer:a=Number.POSITIVE_INFINITY}={})=>{if(!Nn(t))throw new Error("The first argument must be a Readable, a ReadableStream, or an async iterable.");const h=e();h.length=0;try{for await(const o of t){const p=Bn(o),f=i[p](o,h);vr({convertedChunk:f,state:h,getSize:r,truncateChunk:n,addChunk:u,maxBuffer:a})}return Ln({state:h,convertChunk:i,getSize:r,truncateChunk:n,addChunk:u,getFinalChunk:s,maxBuffer:a}),d(h)}catch(o){throw o.bufferedData=d(h),o}},Ln=({state:t,getSize:e,truncateChunk:i,addChunk:r,getFinalChunk:n,maxBuffer:u})=>{const s=n(t);s!==void 0&&vr({convertedChunk:s,state:t,getSize:e,truncateChunk:i,addChunk:r,maxBuffer:u})},vr=({convertedChunk:t,state:e,getSize:i,truncateChunk:r,addChunk:n,maxBuffer:u})=>{const s=i(t),d=e.length+s;if(d<=u){yr(t,e,n,d);return}const a=r(t,u-e.length);throw a!==void 0&&yr(a,e,n,u),new Hn},yr=(t,e,i,r)=>{e.contents=i(t,e,r),e.length=r},Nn=t=>typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function",Bn=t=>{const e=typeof t;if(e==="string")return"string";if(e!=="object"||t===null)return"others";if(globalThis.Buffer?.isBuffer(t))return"buffer";const i=wr.call(t);return i==="[object ArrayBuffer]"?"arrayBuffer":i==="[object DataView]"?"dataView":Number.isInteger(t.byteLength)&&Number.isInteger(t.byteOffset)&&wr.call(t.buffer)==="[object ArrayBuffer]"?"typedArray":"others"},{toString:wr}=Object.prototype;class Hn extends Error{name="MaxBufferError";constructor(){super("maxBuffer exceeded")}}const Un=t=>t,Yn=()=>{},Vn=({contents:t})=>t,xr=t=>{throw new Error(`Streams in object mode are not supported: ${String(t)}`)},Sr=t=>t.length;async function Wn(t,e){return br(t,ro,e)}const zn=()=>({contents:new ArrayBuffer(0)}),Kn=t=>Jn.encode(t),Jn=new TextEncoder,$r=t=>new Uint8Array(t),Tr=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),Xn=(t,e)=>t.slice(0,e),Zn=(t,{contents:e,length:i},r)=>{const n=Er()?to(e,r):Qn(e,r);return new Uint8Array(n).set(t,i),n},Qn=(t,e)=>{if(e<=t.byteLength)return t;const i=new ArrayBuffer(Pr(e));return new Uint8Array(i).set(new Uint8Array(t),0),i},to=(t,e)=>{if(e<=t.maxByteLength)return t.resize(e),t;const i=new ArrayBuffer(e,{maxByteLength:Pr(e)});return new Uint8Array(i).set(new Uint8Array(t),0),i},Pr=t=>Or**Math.ceil(Math.log(t)/Math.log(Or)),Or=2,eo=({contents:t,length:e})=>Er()?t:t.slice(0,e),Er=()=>"resize"in ArrayBuffer.prototype,ro={init:zn,convertChunk:{string:Kn,buffer:$r,arrayBuffer:$r,dataView:Tr,typedArray:Tr,others:xr},getSize:Sr,truncateChunk:Xn,addChunk:Zn,getFinalChunk:Yn,finalize:eo};async function Mr(t,e){if(!("Buffer"in globalThis))throw new Error("getStreamAsBuffer() is only supported in Node.js");try{return Ir(await Wn(t,e))}catch(i){throw i.bufferedData!==void 0&&(i.bufferedData=Ir(i.bufferedData)),i}}const Ir=t=>globalThis.Buffer.from(t);async function io(t,e){return br(t,uo,e)}const so=()=>({contents:"",textDecoder:new TextDecoder}),et=(t,{textDecoder:e})=>e.decode(t,{stream:!0}),no=(t,{contents:e})=>e+t,oo=(t,e)=>t.slice(0,e),ao=({textDecoder:t})=>{const e=t.decode();return e===""?void 0:e},uo={init:so,convertChunk:{string:Un,buffer:et,arrayBuffer:et,dataView:et,typedArray:et,others:xr},getSize:Sr,truncateChunk:oo,addChunk:no,getFinalChunk:ao,finalize:Vn},{PassThrough:lo}=ls;var ho=function(){var t=[],e=new lo({objectMode:!0});return e.setMaxListeners(0),e.add=i,e.isEmpty=r,e.on("unpipe",n),Array.prototype.slice.call(arguments).forEach(i),e;function i(u){return Array.isArray(u)?(u.forEach(i),this):(t.push(u),u.once("end",n.bind(null,u)),u.once("error",e.emit.bind(e,"error")),u.pipe(e,{end:!1}),this)}function r(){return t.length==0}function n(u){t=t.filter(function(s){return s!==u}),!t.length&&e.readable&&e.end()}};const co=J(ho),fo=t=>{if(t!==void 0)throw new TypeError("The `input` and `inputFile` options cannot be both set.")},po=({input:t,inputFile:e})=>typeof e!="string"?t:(fo(t),Zi(e)),mo=(t,e)=>{const i=po(e);i!==void 0&&(mr(i)?i.pipe(t.stdin):t.stdin.end(i))},go=(t,{all:e})=>{if(!e||!t.stdout&&!t.stderr)return;const i=co();return t.stdout&&i.add(t.stdout),t.stderr&&i.add(t.stderr),i},St=async(t,e)=>{if(!(!t||e===void 0)){await us(0),t.destroy();try{return await e}catch(i){return i.bufferedData}}},$t=(t,{encoding:e,buffer:i,maxBuffer:r})=>{if(!(!t||!i))return e==="utf8"||e==="utf-8"?io(t,{maxBuffer:r}):e===null||e==="buffer"?Mr(t,{maxBuffer:r}):bo(t,r,e)},bo=async(t,e,i)=>(await Mr(t,{maxBuffer:e})).toString(i),vo=async({stdout:t,stderr:e,all:i},{encoding:r,buffer:n,maxBuffer:u},s)=>{const d=$t(t,{encoding:r,buffer:n,maxBuffer:u}),a=$t(e,{encoding:r,buffer:n,maxBuffer:u}),h=$t(i,{encoding:r,buffer:n,maxBuffer:u*2});try{return await Promise.all([s,d,a,h])}catch(o){return Promise.all([{error:o,signal:o.signal,timedOut:o.timedOut},St(t,d),St(e,a),St(i,h)])}},yo=(async()=>{})().constructor.prototype,wo=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(yo,t)]),Cr=(t,e)=>{for(const[i,r]of wo){const n=typeof e=="function"?(...u)=>Reflect.apply(r.value,e(),u):r.value.bind(e);Reflect.defineProperty(t,i,{...r,value:n})}},xo=t=>new Promise((e,i)=>{t.on("exit",(r,n)=>{e({exitCode:r,signal:n})}),t.on("error",r=>{i(r)}),t.stdin&&t.stdin.on("error",r=>{i(r)})}),Rr=(t,e=[])=>Array.isArray(e)?[t,...e]:[t],So=/^[\w.-]+$/,$o=t=>typeof t!="string"||So.test(t)?t:`"${t.replaceAll('"','\\"')}"`,To=(t,e)=>Rr(t,e).join(" "),Po=(t,e)=>Rr(t,e).map(i=>$o(i)).join(" "),Oo=hs("execa").enabled,rt=(t,e)=>String(t).padStart(e,"0"),Eo=()=>{const t=new Date;return`${rt(t.getHours(),2)}:${rt(t.getMinutes(),2)}:${rt(t.getSeconds(),2)}.${rt(t.getMilliseconds(),3)}`},Mo=(t,{verbose:e})=>{e&&k.stderr.write(`[${Eo()}] ${t}
`)},Io=1e3*1e3*100,Co=({env:t,extendEnv:e,preferLocal:i,localDir:r,execPath:n})=>{const u=e?{...k.env,...t}:t;return i?Zs({env:u,cwd:r,execPath:n}):u},Ro=(t,e,i={})=>{const r=Ws._parse(t,e,i);return t=r.command,e=r.args,i=r.options,i={maxBuffer:Io,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:i.cwd||k.cwd(),execPath:k.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,verbose:Oo,...i},i.env=Co(i),i.stdio=wn(i),k.platform==="win32"&&V.basename(t,".exe")==="cmd"&&e.unshift("/q"),{file:t,args:e,options:i,parsed:r}},Tt=(t,e,i)=>typeof e!="string"&&!ss.isBuffer(e)?i===void 0?void 0:"":t.stripFinalNewline?zs(e):e;function Ao(t,e,i){const r=Ro(t,e,i),n=To(t,e),u=Po(t,e);Mo(u,r.options),jn(r.options);let s;try{s=He.spawn(r.file,r.args,r.options)}catch(l){const c=new He.ChildProcess,v=Promise.reject(fr({error:l,stdout:"",stderr:"",all:"",command:n,escapedCommand:u,parsed:r,timedOut:!1,isCanceled:!1,killed:!1}));return Cr(c,v),c}const d=xo(s),a=qn(s,r.options,d),h=kn(s,r.options,a),o={isCanceled:!1};s.kill=Mn.bind(null,s.kill.bind(s)),s.cancel=Dn.bind(null,s,o);const f=lr(async()=>{const[{error:l,exitCode:c,signal:v,timedOut:b},g,m,y]=await vo(s,r.options,h),x=Tt(r.options,g),w=Tt(r.options,m),S=Tt(r.options,y);if(l||c!==0||v!==null){const O=fr({error:l,exitCode:c,signal:v,stdout:x,stderr:w,all:S,command:n,escapedCommand:u,parsed:r,timedOut:b,isCanceled:r.options.signal?r.options.signal.aborted:!1,killed:s.killed});if(!r.options.reject)return O;throw O}return{command:n,escapedCommand:u,exitCode:0,stdout:x,stderr:w,all:S,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return mo(s,r.options),s.all=go(s,r.options),Gn(s),Cr(s,f),s}var Pt={exports:{}};let Do=cs,_o=!("NO_COLOR"in process.env||process.argv.includes("--no-color"))&&("FORCE_COLOR"in process.env||process.argv.includes("--color")||process.platform==="win32"||Do.isatty(1)&&process.env.TERM!=="dumb"||"CI"in process.env),M=(t,e,i=t)=>r=>{let n=""+r,u=n.indexOf(e,t.length);return~u?t+Ar(n,e,i,u)+e:t+n+e},Ar=(t,e,i,r)=>{let n=t.substring(0,r)+i,u=t.substring(r+e.length),s=u.indexOf(e);return~s?n+Ar(u,e,i,s):n+u},Dr=(t=_o)=>({isColorSupported:t,reset:t?e=>`\x1B[0m${e}\x1B[0m`:String,bold:t?M("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"):String,dim:t?M("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"):String,italic:t?M("\x1B[3m","\x1B[23m"):String,underline:t?M("\x1B[4m","\x1B[24m"):String,inverse:t?M("\x1B[7m","\x1B[27m"):String,hidden:t?M("\x1B[8m","\x1B[28m"):String,strikethrough:t?M("\x1B[9m","\x1B[29m"):String,black:t?M("\x1B[30m","\x1B[39m"):String,red:t?M("\x1B[31m","\x1B[39m"):String,green:t?M("\x1B[32m","\x1B[39m"):String,yellow:t?M("\x1B[33m","\x1B[39m"):String,blue:t?M("\x1B[34m","\x1B[39m"):String,magenta:t?M("\x1B[35m","\x1B[39m"):String,cyan:t?M("\x1B[36m","\x1B[39m"):String,white:t?M("\x1B[37m","\x1B[39m"):String,gray:t?M("\x1B[90m","\x1B[39m"):String,bgBlack:t?M("\x1B[40m","\x1B[49m"):String,bgRed:t?M("\x1B[41m","\x1B[49m"):String,bgGreen:t?M("\x1B[42m","\x1B[49m"):String,bgYellow:t?M("\x1B[43m","\x1B[49m"):String,bgBlue:t?M("\x1B[44m","\x1B[49m"):String,bgMagenta:t?M("\x1B[45m","\x1B[49m"):String,bgCyan:t?M("\x1B[46m","\x1B[49m"):String,bgWhite:t?M("\x1B[47m","\x1B[49m"):String});Pt.exports=Dr(),Pt.exports.createColors=Dr;var qo=Pt.exports;const U=J(qo);var Ot={},Et,_r;function I(){if(_r)return Et;_r=1;const{FORCE_COLOR:t,NODE_DISABLE_COLORS:e,TERM:i}=process.env,r={enabled:!e&&i!=="dumb"&&t!=="0",reset:s(0,0),bold:s(1,22),dim:s(2,22),italic:s(3,23),underline:s(4,24),inverse:s(7,27),hidden:s(8,28),strikethrough:s(9,29),black:s(30,39),red:s(31,39),green:s(32,39),yellow:s(33,39),blue:s(34,39),magenta:s(35,39),cyan:s(36,39),white:s(37,39),gray:s(90,39),grey:s(90,39),bgBlack:s(40,49),bgRed:s(41,49),bgGreen:s(42,49),bgYellow:s(43,49),bgBlue:s(44,49),bgMagenta:s(45,49),bgCyan:s(46,49),bgWhite:s(47,49)};function n(d,a){let h=0,o,p="",f="";for(;h<d.length;h++)o=d[h],p+=o.open,f+=o.close,a.includes(o.close)&&(a=a.replace(o.rgx,o.close+o.open));return p+a+f}function u(d,a){let h={has:d,keys:a};return h.reset=r.reset.bind(h),h.bold=r.bold.bind(h),h.dim=r.dim.bind(h),h.italic=r.italic.bind(h),h.underline=r.underline.bind(h),h.inverse=r.inverse.bind(h),h.hidden=r.hidden.bind(h),h.strikethrough=r.strikethrough.bind(h),h.black=r.black.bind(h),h.red=r.red.bind(h),h.green=r.green.bind(h),h.yellow=r.yellow.bind(h),h.blue=r.blue.bind(h),h.magenta=r.magenta.bind(h),h.cyan=r.cyan.bind(h),h.white=r.white.bind(h),h.gray=r.gray.bind(h),h.grey=r.grey.bind(h),h.bgBlack=r.bgBlack.bind(h),h.bgRed=r.bgRed.bind(h),h.bgGreen=r.bgGreen.bind(h),h.bgYellow=r.bgYellow.bind(h),h.bgBlue=r.bgBlue.bind(h),h.bgMagenta=r.bgMagenta.bind(h),h.bgCyan=r.bgCyan.bind(h),h.bgWhite=r.bgWhite.bind(h),h}function s(d,a){let h={open:`\x1B[${d}m`,close:`\x1B[${a}m`,rgx:new RegExp(`\\x1b\\[${a}m`,"g")};return function(o){return this!==void 0&&this.has!==void 0?(this.has.includes(d)||(this.has.push(d),this.keys.push(h)),o===void 0?this:r.enabled?n(this.keys,o+""):o+""):o===void 0?u([d],[h]):r.enabled?n([h],o+""):o+""}}return Et=r,Et}var Mt,qr;function jo(){return qr||(qr=1,Mt=(t,e)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(e){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}),Mt}var It,jr;function Ct(){return jr||(jr=1,It=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),i=new RegExp(e,"g");return typeof t=="string"?t.replace(i,""):t}),It}var Rt,kr;function C(){if(kr)return Rt;kr=1;const t="\x1B",e=`${t}[`,i="\x07",r={to(s,d){return d?`${e}${d+1};${s+1}H`:`${e}${s+1}G`},move(s,d){let a="";return s<0?a+=`${e}${-s}D`:s>0&&(a+=`${e}${s}C`),d<0?a+=`${e}${-d}A`:d>0&&(a+=`${e}${d}B`),a},up:(s=1)=>`${e}${s}A`,down:(s=1)=>`${e}${s}B`,forward:(s=1)=>`${e}${s}C`,backward:(s=1)=>`${e}${s}D`,nextLine:(s=1)=>`${e}E`.repeat(s),prevLine:(s=1)=>`${e}F`.repeat(s),left:`${e}G`,hide:`${e}?25l`,show:`${e}?25h`,save:`${t}7`,restore:`${t}8`},n={up:(s=1)=>`${e}S`.repeat(s),down:(s=1)=>`${e}T`.repeat(s)},u={screen:`${e}2J`,up:(s=1)=>`${e}1J`.repeat(s),down:(s=1)=>`${e}J`.repeat(s),line:`${e}2K`,lineEnd:`${e}K`,lineStart:`${e}1K`,lines(s){let d="";for(let a=0;a<s;a++)d+=this.line+(a<s-1?r.up():"");return s&&(d+=r.left),d}};return Rt={cursor:r,scroll:n,erase:u,beep:i},Rt}var At,Fr;function ko(){if(Fr)return At;Fr=1;function t(a,h){var o=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!o){if(Array.isArray(a)||(o=e(a))||h&&a&&typeof a.length=="number"){o&&(a=o);var p=0,f=function(){};return{s:f,n:function(){return p>=a.length?{done:!0}:{done:!1,value:a[p++]}},e:function(g){throw g},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,c=!1,v;return{s:function(){o=o.call(a)},n:function(){var g=o.next();return l=g.done,g},e:function(g){c=!0,v=g},f:function(){try{!l&&o.return!=null&&o.return()}finally{if(c)throw v}}}}function e(a,h){if(a){if(typeof a=="string")return i(a,h);var o=Object.prototype.toString.call(a).slice(8,-1);if(o==="Object"&&a.constructor&&(o=a.constructor.name),o==="Map"||o==="Set")return Array.from(a);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return i(a,h)}}function i(a,h){(h==null||h>a.length)&&(h=a.length);for(var o=0,p=new Array(h);o<h;o++)p[o]=a[o];return p}const r=Ct(),n=C(),u=n.erase,s=n.cursor,d=a=>[...r(a)].length;return At=function(a,h){if(!h)return u.line+s.to(0);let o=0;const p=a.split(/\r?\n/);var f=t(p),l;try{for(f.s();!(l=f.n()).done;){let c=l.value;o+=1+Math.floor(Math.max(d(c)-1,0)/h)}}catch(c){f.e(c)}finally{f.f()}return u.lines(o)},At}var Dt,Gr;function Lr(){if(Gr)return Dt;Gr=1;const t={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},e={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"};return Dt=process.platform==="win32"?e:t,Dt}var _t,Nr;function Fo(){if(Nr)return _t;Nr=1;const t=I(),e=Lr(),i=Object.freeze({password:{scale:1,render:a=>"*".repeat(a.length)},emoji:{scale:2,render:a=>"\u{1F603}".repeat(a.length)},invisible:{scale:0,render:a=>""},default:{scale:1,render:a=>`${a}`}}),r=a=>i[a]||i.default,n=Object.freeze({aborted:t.red(e.cross),done:t.green(e.tick),exited:t.yellow(e.cross),default:t.cyan("?")});return _t={styles:i,render:r,symbols:n,symbol:(a,h,o)=>h?n.aborted:o?n.exited:a?n.done:n.default,delimiter:a=>t.gray(a?e.ellipsis:e.pointerSmall),item:(a,h)=>t.gray(a?h?e.pointerSmall:"+":e.line)},_t}var qt,Br;function Go(){if(Br)return qt;Br=1;const t=Ct();return qt=function(e,i){let r=String(t(e)||"").split(/\r?\n/);return i?r.map(n=>Math.ceil(n.length/i)).reduce((n,u)=>n+u):r.length},qt}var jt,Hr;function Lo(){return Hr||(Hr=1,jt=(t,e={})=>{const i=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",r=e.width;return(t||"").split(/\r?\n/g).map(n=>n.split(/\s+/g).reduce((u,s)=>(s.length+i.length>=r||u[u.length-1].length+s.length+1<r?u[u.length-1]+=` ${s}`:u.push(`${i}${s}`),u),[i]).join(`
`)).join(`
`)}),jt}var kt,Ur;function No(){return Ur||(Ur=1,kt=(t,e,i)=>{i=i||e;let r=Math.min(e-i,t-Math.floor(i/2));r<0&&(r=0);let n=Math.min(r+i,e);return{startIndex:r,endIndex:n}}),kt}var Ft,Yr;function F(){return Yr||(Yr=1,Ft={action:jo(),clear:ko(),style:Fo(),strip:Ct(),figures:Lr(),lines:Go(),wrap:Lo(),entriesToDisplay:No()}),Ft}var Gt,Vr;function B(){if(Vr)return Gt;Vr=1;const t=Ye,e=F(),i=e.action,r=Ve,n=C(),u=n.beep,s=n.cursor,d=I();class a extends r{constructor(o={}){super(),this.firstRender=!0,this.in=o.stdin||process.stdin,this.out=o.stdout||process.stdout,this.onRender=(o.onRender||(()=>{})).bind(this);const p=t.createInterface({input:this.in,escapeCodeTimeout:50});t.emitKeypressEvents(this.in,p),this.in.isTTY&&this.in.setRawMode(!0);const f=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,l=(c,v)=>{let b=i(v,f);b===!1?this._&&this._(c,v):typeof this[b]=="function"?this[b](v):this.bell()};this.close=()=>{this.out.write(s.show),this.in.removeListener("keypress",l),this.in.isTTY&&this.in.setRawMode(!1),p.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",l)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(u)}render(){this.onRender(d),this.firstRender&&(this.firstRender=!1)}}return Gt=a,Gt}var Lt,Wr;function Bo(){if(Wr)return Lt;Wr=1;function t(l,c,v,b,g,m,y){try{var x=l[m](y),w=x.value}catch(S){v(S);return}x.done?c(w):Promise.resolve(w).then(b,g)}function e(l){return function(){var c=this,v=arguments;return new Promise(function(b,g){var m=l.apply(c,v);function y(w){t(m,b,g,y,x,"next",w)}function x(w){t(m,b,g,y,x,"throw",w)}y(void 0)})}}const i=I(),r=B(),n=C(),u=n.erase,s=n.cursor,d=F(),a=d.style,h=d.clear,o=d.lines,p=d.figures;class f extends r{constructor(c={}){super(c),this.transform=a.render(c.style),this.scale=this.transform.scale,this.msg=c.message,this.initial=c.initial||"",this.validator=c.validate||(()=>!0),this.value="",this.errorMsg=c.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=h("",this.out.columns),this.render()}set value(c){!c&&this.initial?(this.placeholder=!0,this.rendered=i.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(c)),this._value=c,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var c=this;return e(function*(){let v=yield c.validator(c.value);typeof v=="string"&&(c.errorMsg=v,v=!1),c.error=!v})()}submit(){var c=this;return e(function*(){if(c.value=c.value||c.initial,c.cursorOffset=0,c.cursor=c.rendered.length,yield c.validate(),c.error){c.red=!0,c.fire(),c.render();return}c.done=!0,c.aborted=!1,c.fire(),c.render(),c.out.write(`
`),c.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(c){this.placeholder||(this.cursor=this.cursor+c,this.cursorOffset+=c)}_(c,v){let b=this.value.slice(0,this.cursor),g=this.value.slice(this.cursor);this.value=`${b}${c}${g}`,this.red=!1,this.cursor=this.placeholder?0:b.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let c=this.value.slice(0,this.cursor-1),v=this.value.slice(this.cursor);this.value=`${c}${v}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let c=this.value.slice(0,this.cursor),v=this.value.slice(this.cursor+1);this.value=`${c}${v}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(s.down(o(this.outputError,this.out.columns)-1)+h(this.outputError,this.out.columns)),this.out.write(h(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[a.symbol(this.done,this.aborted),i.bold(this.msg),a.delimiter(this.done),this.red?i.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((c,v,b)=>c+`
${b?" ":p.pointerSmall} ${i.red().italic(v)}`,"")),this.out.write(u.line+s.to(0)+this.outputText+s.save+this.outputError+s.restore+s.move(this.cursorOffset,0)))}}return Lt=f,Lt}var Nt,zr;function Ho(){if(zr)return Nt;zr=1;const t=I(),e=B(),i=F(),r=i.style,n=i.clear,u=i.figures,s=i.wrap,d=i.entriesToDisplay,a=C(),h=a.cursor;class o extends e{constructor(f={}){super(f),this.msg=f.message,this.hint=f.hint||"- Use arrow-keys. Return to submit.",this.warn=f.warn||"- This option is disabled",this.cursor=f.initial||0,this.choices=f.choices.map((l,c)=>(typeof l=="string"&&(l={title:l,value:c}),{title:l&&(l.title||l.value||l),value:l&&(l.value===void 0?c:l.value),description:l&&l.description,selected:l&&l.selected,disabled:l&&l.disabled})),this.optionsPerPage=f.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=n("",this.out.columns),this.render()}moveCursor(f){this.cursor=f,this.value=this.choices[f].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(f,l){if(f===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(h.hide):this.out.write(n(this.outputText,this.out.columns)),super.render();let f=d(this.cursor,this.choices.length,this.optionsPerPage),l=f.startIndex,c=f.endIndex;if(this.outputText=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(!1),this.done?this.selection.title:this.selection.disabled?t.yellow(this.warn):t.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let v=l;v<c;v++){let b,g,m="",y=this.choices[v];v===l&&l>0?g=u.arrowUp:v===c-1&&c<this.choices.length?g=u.arrowDown:g=" ",y.disabled?(b=this.cursor===v?t.gray().underline(y.title):t.strikethrough().gray(y.title),g=(this.cursor===v?t.bold().gray(u.pointer)+" ":"  ")+g):(b=this.cursor===v?t.cyan().underline(y.title):y.title,g=(this.cursor===v?t.cyan(u.pointer)+" ":"  ")+g,y.description&&this.cursor===v&&(m=` - ${y.description}`,(g.length+b.length+m.length>=this.out.columns||y.description.split(/\r?\n/).length>1)&&(m=`
`+s(y.description,{margin:3,width:this.out.columns})))),this.outputText+=`${g} ${b}${t.gray(m)}
`}}this.out.write(this.outputText)}}return Nt=o,Nt}var Bt,Kr;function Uo(){if(Kr)return Bt;Kr=1;const t=I(),e=B(),i=F(),r=i.style,n=i.clear,u=C(),s=u.cursor,d=u.erase;class a extends e{constructor(o={}){super(o),this.msg=o.message,this.value=!!o.initial,this.active=o.active||"on",this.inactive=o.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(o,p){if(o===" ")this.value=!this.value;else if(o==="1")this.value=!0;else if(o==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(s.hide):this.out.write(n(this.outputText,this.out.columns)),super.render(),this.outputText=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(this.done),this.value?this.inactive:t.cyan().underline(this.inactive),t.gray("/"),this.value?t.cyan().underline(this.active):this.active].join(" "),this.out.write(d.line+s.to(0)+this.outputText))}}return Bt=a,Bt}var Ht,Jr;function L(){if(Jr)return Ht;Jr=1;class t{constructor({token:i,date:r,parts:n,locales:u}){this.token=i,this.date=r||new Date,this.parts=n||[this],this.locales=u||{}}up(){}down(){}next(){const i=this.parts.indexOf(this);return this.parts.find((r,n)=>n>i&&r instanceof t)}setTo(i){}prev(){let i=[].concat(this.parts).reverse();const r=i.indexOf(this);return i.find((n,u)=>u>r&&n instanceof t)}toString(){return String(this.date)}}return Ht=t,Ht}var Ut,Xr;function Yo(){if(Xr)return Ut;Xr=1;const t=L();class e extends t{constructor(r={}){super(r)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let r=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?r.toUpperCase():r}}return Ut=e,Ut}var Yt,Zr;function Vo(){if(Zr)return Yt;Zr=1;const t=L(),e=r=>(r=r%10,r===1?"st":r===2?"nd":r===3?"rd":"th");class i extends t{constructor(n={}){super(n)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(n){this.date.setDate(parseInt(n.substr(-2)))}toString(){let n=this.date.getDate(),u=this.date.getDay();return this.token==="DD"?String(n).padStart(2,"0"):this.token==="Do"?n+e(n):this.token==="d"?u+1:this.token==="ddd"?this.locales.weekdaysShort[u]:this.token==="dddd"?this.locales.weekdays[u]:n}}return Yt=i,Yt}var Vt,Qr;function Wo(){if(Qr)return Vt;Qr=1;const t=L();class e extends t{constructor(r={}){super(r)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(r){this.date.setHours(parseInt(r.substr(-2)))}toString(){let r=this.date.getHours();return/h/.test(this.token)&&(r=r%12||12),this.token.length>1?String(r).padStart(2,"0"):r}}return Vt=e,Vt}var Wt,ti;function zo(){if(ti)return Wt;ti=1;const t=L();class e extends t{constructor(r={}){super(r)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(r){this.date.setMilliseconds(parseInt(r.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return Wt=e,Wt}var zt,ei;function Ko(){if(ei)return zt;ei=1;const t=L();class e extends t{constructor(r={}){super(r)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(r){this.date.setMinutes(parseInt(r.substr(-2)))}toString(){let r=this.date.getMinutes();return this.token.length>1?String(r).padStart(2,"0"):r}}return zt=e,zt}var Kt,ri;function Jo(){if(ri)return Kt;ri=1;const t=L();class e extends t{constructor(r={}){super(r)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(r){r=parseInt(r.substr(-2))-1,this.date.setMonth(r<0?0:r)}toString(){let r=this.date.getMonth(),n=this.token.length;return n===2?String(r+1).padStart(2,"0"):n===3?this.locales.monthsShort[r]:n===4?this.locales.months[r]:String(r+1)}}return Kt=e,Kt}var Jt,ii;function Xo(){if(ii)return Jt;ii=1;const t=L();class e extends t{constructor(r={}){super(r)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(r){this.date.setSeconds(parseInt(r.substr(-2)))}toString(){let r=this.date.getSeconds();return this.token.length>1?String(r).padStart(2,"0"):r}}return Jt=e,Jt}var Xt,si;function Zo(){if(si)return Xt;si=1;const t=L();class e extends t{constructor(r={}){super(r)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(r){this.date.setFullYear(r.substr(-4))}toString(){let r=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?r.substr(-2):r}}return Xt=e,Xt}var Zt,ni;function Qo(){return ni||(ni=1,Zt={DatePart:L(),Meridiem:Yo(),Day:Vo(),Hours:Wo(),Milliseconds:zo(),Minutes:Ko(),Month:Jo(),Seconds:Xo(),Year:Zo()}),Zt}var Qt,oi;function ta(){if(oi)return Qt;oi=1;function t($,T,E,_,R,A,j){try{var q=$[A](j),D=q.value}catch(Y){E(Y);return}q.done?T(D):Promise.resolve(D).then(_,R)}function e($){return function(){var T=this,E=arguments;return new Promise(function(_,R){var A=$.apply(T,E);function j(D){t(A,_,R,j,q,"next",D)}function q(D){t(A,_,R,j,q,"throw",D)}j(void 0)})}}const i=I(),r=B(),n=F(),u=n.style,s=n.clear,d=n.figures,a=C(),h=a.erase,o=a.cursor,p=Qo(),f=p.DatePart,l=p.Meridiem,c=p.Day,v=p.Hours,b=p.Milliseconds,g=p.Minutes,m=p.Month,y=p.Seconds,x=p.Year,w=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,S={1:({token:$})=>$.replace(/\\(.)/g,"$1"),2:$=>new c($),3:$=>new m($),4:$=>new x($),5:$=>new l($),6:$=>new v($),7:$=>new g($),8:$=>new y($),9:$=>new b($)},O={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class P extends r{constructor(T={}){super(T),this.msg=T.message,this.cursor=0,this.typed="",this.locales=Object.assign(O,T.locales),this._date=T.initial||new Date,this.errorMsg=T.error||"Please Enter A Valid Value",this.validator=T.validate||(()=>!0),this.mask=T.mask||"YYYY-MM-DD HH:mm:ss",this.clear=s("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(T){T&&this._date.setTime(T.getTime())}set mask(T){let E;for(this.parts=[];E=w.exec(T);){let R=E.shift(),A=E.findIndex(j=>j!=null);this.parts.push(A in S?S[A]({token:E[A]||R,date:this.date,parts:this.parts,locales:this.locales}):E[A]||R)}let _=this.parts.reduce((R,A)=>(typeof A=="string"&&typeof R[R.length-1]=="string"?R[R.length-1]+=A:R.push(A),R),[]);this.parts.splice(0),this.parts.push(..._),this.reset()}moveCursor(T){this.typed="",this.cursor=T,this.fire()}reset(){this.moveCursor(this.parts.findIndex(T=>T instanceof f)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var T=this;return e(function*(){let E=yield T.validator(T.value);typeof E=="string"&&(T.errorMsg=E,E=!1),T.error=!E})()}submit(){var T=this;return e(function*(){if(yield T.validate(),T.error){T.color="red",T.fire(),T.render();return}T.done=!0,T.aborted=!1,T.fire(),T.render(),T.out.write(`
`),T.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let T=this.parts[this.cursor].prev();if(T==null)return this.bell();this.moveCursor(this.parts.indexOf(T)),this.render()}right(){let T=this.parts[this.cursor].next();if(T==null)return this.bell();this.moveCursor(this.parts.indexOf(T)),this.render()}next(){let T=this.parts[this.cursor].next();this.moveCursor(T?this.parts.indexOf(T):this.parts.findIndex(E=>E instanceof f)),this.render()}_(T){/\d/.test(T)&&(this.typed+=T,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(o.hide):this.out.write(s(this.outputText,this.out.columns)),super.render(),this.outputText=[u.symbol(this.done,this.aborted),i.bold(this.msg),u.delimiter(!1),this.parts.reduce((T,E,_)=>T.concat(_===this.cursor&&!this.done?i.cyan().underline(E.toString()):E),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((T,E,_)=>T+`
${_?" ":d.pointerSmall} ${i.red().italic(E)}`,"")),this.out.write(h.line+o.to(0)+this.outputText))}}return Qt=P,Qt}var te,ai;function ea(){if(ai)return te;ai=1;function t(b,g,m,y,x,w,S){try{var O=b[w](S),P=O.value}catch($){m($);return}O.done?g(P):Promise.resolve(P).then(y,x)}function e(b){return function(){var g=this,m=arguments;return new Promise(function(y,x){var w=b.apply(g,m);function S(P){t(w,y,x,S,O,"next",P)}function O(P){t(w,y,x,S,O,"throw",P)}S(void 0)})}}const i=I(),r=B(),n=C(),u=n.cursor,s=n.erase,d=F(),a=d.style,h=d.figures,o=d.clear,p=d.lines,f=/[0-9]/,l=b=>b!==void 0,c=(b,g)=>{let m=Math.pow(10,g);return Math.round(b*m)/m};class v extends r{constructor(g={}){super(g),this.transform=a.render(g.style),this.msg=g.message,this.initial=l(g.initial)?g.initial:"",this.float=!!g.float,this.round=g.round||2,this.inc=g.increment||1,this.min=l(g.min)?g.min:-1/0,this.max=l(g.max)?g.max:1/0,this.errorMsg=g.error||"Please Enter A Valid Value",this.validator=g.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(g){!g&&g!==0?(this.placeholder=!0,this.rendered=i.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${c(g,this.round)}`),this._value=c(g,this.round)),this.fire()}get value(){return this._value}parse(g){return this.float?parseFloat(g):parseInt(g)}valid(g){return g==="-"||g==="."&&this.float||f.test(g)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let g=this.value;this.value=g!==""?g:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var g=this;return e(function*(){let m=yield g.validator(g.value);typeof m=="string"&&(g.errorMsg=m,m=!1),g.error=!m})()}submit(){var g=this;return e(function*(){if(yield g.validate(),g.error){g.color="red",g.fire(),g.render();return}let m=g.value;g.value=m!==""?m:g.initial,g.done=!0,g.aborted=!1,g.error=!1,g.fire(),g.render(),g.out.write(`
`),g.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let g=this.value.toString();if(g.length===0)return this.bell();this.value=this.parse(g=g.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(g,m){if(!this.valid(g))return this.bell();const y=Date.now();if(y-this.lastHit>1e3&&(this.typed=""),this.typed+=g,this.lastHit=y,this.color="cyan",g===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(u.down(p(this.outputError,this.out.columns)-1)+o(this.outputError,this.out.columns)),this.out.write(o(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[a.symbol(this.done,this.aborted),i.bold(this.msg),a.delimiter(this.done),!this.done||!this.done&&!this.placeholder?i[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((g,m,y)=>g+`
${y?" ":h.pointerSmall} ${i.red().italic(m)}`,"")),this.out.write(s.line+u.to(0)+this.outputText+u.save+this.outputError+u.restore))}}return te=v,te}var ee,ui;function li(){if(ui)return ee;ui=1;const t=I(),e=C(),i=e.cursor,r=B(),n=F(),u=n.clear,s=n.figures,d=n.style,a=n.wrap,h=n.entriesToDisplay;class o extends r{constructor(f={}){super(f),this.msg=f.message,this.cursor=f.cursor||0,this.scrollIndex=f.cursor||0,this.hint=f.hint||"",this.warn=f.warn||"- This option is disabled -",this.minSelected=f.min,this.showMinError=!1,this.maxChoices=f.max,this.instructions=f.instructions,this.optionsPerPage=f.optionsPerPage||10,this.value=f.choices.map((l,c)=>(typeof l=="string"&&(l={title:l,value:c}),{title:l&&(l.title||l.value||l),description:l&&l.description,value:l&&(l.value===void 0?c:l.value),selected:l&&l.selected,disabled:l&&l.disabled})),this.clear=u("",this.out.columns),f.overrideRender||this.render()}reset(){this.value.map(f=>!f.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(f=>f.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const f=this.value.filter(l=>l.selected);this.minSelected&&f.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(f=>f.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const f=this.value[this.cursor];if(f.selected)f.selected=!1,this.render();else{if(f.disabled||this.value.filter(l=>l.selected).length>=this.maxChoices)return this.bell();f.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const f=!this.value[this.cursor].selected;this.value.filter(l=>!l.disabled).forEach(l=>l.selected=f),this.render()}_(f,l){if(f===" ")this.handleSpaceToggle();else if(f==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${s.arrowUp}/${s.arrowDown}: Highlight option
    ${s.arrowLeft}/${s.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(f,l,c,v){const b=(l.selected?t.green(s.radioOn):s.radioOff)+" "+v+" ";let g,m;return l.disabled?g=f===c?t.gray().underline(l.title):t.strikethrough().gray(l.title):(g=f===c?t.cyan().underline(l.title):l.title,f===c&&l.description&&(m=` - ${l.description}`,(b.length+g.length+m.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(m=`
`+a(l.description,{margin:b.length,width:this.out.columns})))),b+g+t.gray(m||"")}paginateOptions(f){if(f.length===0)return t.red("No matches for this query.");let l=h(this.cursor,f.length,this.optionsPerPage),c=l.startIndex,v=l.endIndex,b,g=[];for(let m=c;m<v;m++)m===c&&c>0?b=s.arrowUp:m===v-1&&v<f.length?b=s.arrowDown:b=" ",g.push(this.renderOption(this.cursor,f[m],m,b));return`
`+g.join(`
`)}renderOptions(f){return this.done?"":this.paginateOptions(f)}renderDoneOrInstructions(){if(this.done)return this.value.filter(l=>l.selected).map(l=>l.title).join(", ");const f=[t.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&f.push(t.yellow(this.warn)),f.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(i.hide),super.render();let f=[d.symbol(this.done,this.aborted),t.bold(this.msg),d.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(f+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),f+=this.renderOptions(this.value),this.out.write(this.clear+f),this.clear=u(f,this.out.columns)}}return ee=o,ee}var re,hi;function ra(){if(hi)return re;hi=1;function t(g,m,y,x,w,S,O){try{var P=g[S](O),$=P.value}catch(T){y(T);return}P.done?m($):Promise.resolve($).then(x,w)}function e(g){return function(){var m=this,y=arguments;return new Promise(function(x,w){var S=g.apply(m,y);function O($){t(S,x,w,O,P,"next",$)}function P($){t(S,x,w,O,P,"throw",$)}O(void 0)})}}const i=I(),r=B(),n=C(),u=n.erase,s=n.cursor,d=F(),a=d.style,h=d.clear,o=d.figures,p=d.wrap,f=d.entriesToDisplay,l=(g,m)=>g[m]&&(g[m].value||g[m].title||g[m]),c=(g,m)=>g[m]&&(g[m].title||g[m].value||g[m]),v=(g,m)=>{const y=g.findIndex(x=>x.value===m||x.title===m);return y>-1?y:void 0};class b extends r{constructor(m={}){super(m),this.msg=m.message,this.suggest=m.suggest,this.choices=m.choices,this.initial=typeof m.initial=="number"?m.initial:v(m.choices,m.initial),this.select=this.initial||m.cursor||0,this.i18n={noMatches:m.noMatches||"no matches found"},this.fallback=m.fallback||this.initial,this.clearFirst=m.clearFirst||!1,this.suggestions=[],this.input="",this.limit=m.limit||10,this.cursor=0,this.transform=a.render(m.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=h("",this.out.columns),this.complete(this.render),this.render()}set fallback(m){this._fb=Number.isSafeInteger(parseInt(m))?parseInt(m):m}get fallback(){let m;return typeof this._fb=="number"?m=this.choices[this._fb]:typeof this._fb=="string"&&(m={title:this._fb}),m||this._fb||{title:this.i18n.noMatches}}moveSelect(m){this.select=m,this.suggestions.length>0?this.value=l(this.suggestions,m):this.value=this.fallback.value,this.fire()}complete(m){var y=this;return e(function*(){const x=y.completing=y.suggest(y.input,y.choices),w=yield x;if(y.completing!==x)return;y.suggestions=w.map((O,P,$)=>({title:c($,P),value:l($,P),description:O.description})),y.completing=!1;const S=Math.max(w.length-1,0);y.moveSelect(Math.min(S,y.select)),m&&m()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(m,y){let x=this.input.slice(0,this.cursor),w=this.input.slice(this.cursor);this.input=`${x}${m}${w}`,this.cursor=x.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let m=this.input.slice(0,this.cursor-1),y=this.input.slice(this.cursor);this.input=`${m}${y}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let m=this.input.slice(0,this.cursor),y=this.input.slice(this.cursor+1);this.input=`${m}${y}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(m,y,x,w){let S,O=x?o.arrowUp:w?o.arrowDown:" ",P=y?i.cyan().underline(m.title):m.title;return O=(y?i.cyan(o.pointer)+" ":"  ")+O,m.description&&(S=` - ${m.description}`,(O.length+P.length+S.length>=this.out.columns||m.description.split(/\r?\n/).length>1)&&(S=`
`+p(m.description,{margin:3,width:this.out.columns}))),O+" "+P+i.gray(S||"")}render(){if(this.closed)return;this.firstRender?this.out.write(s.hide):this.out.write(h(this.outputText,this.out.columns)),super.render();let m=f(this.select,this.choices.length,this.limit),y=m.startIndex,x=m.endIndex;if(this.outputText=[a.symbol(this.done,this.aborted,this.exited),i.bold(this.msg),a.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const w=this.suggestions.slice(y,x).map((S,O)=>this.renderOption(S,this.select===O+y,O===0&&y>0,O+y===x-1&&x<this.choices.length)).join(`
`);this.outputText+=`
`+(w||i.gray(this.fallback.title))}this.out.write(u.line+s.to(0)+this.outputText)}}return re=b,re}var ie,ci;function ia(){if(ci)return ie;ci=1;const t=I(),e=C(),i=e.cursor,r=li(),n=F(),u=n.clear,s=n.style,d=n.figures;class a extends r{constructor(o={}){o.overrideRender=!0,super(o),this.inputValue="",this.clear=u("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(o=>o.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const o=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(f=>this.inputValue?!!(typeof f.title=="string"&&f.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof f.value=="string"&&f.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const p=this.filteredOptions.findIndex(f=>f===o);this.cursor=p<0?0:p,this.render()}handleSpaceToggle(){const o=this.filteredOptions[this.cursor];if(o.selected)o.selected=!1,this.render();else{if(o.disabled||this.value.filter(p=>p.selected).length>=this.maxChoices)return this.bell();o.selected=!0,this.render()}}handleInputChange(o){this.inputValue=this.inputValue+o,this.updateFilteredOptions()}_(o,p){o===" "?this.handleSpaceToggle():this.handleInputChange(o)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${d.arrowUp}/${d.arrowDown}: Highlight option
    ${d.arrowLeft}/${d.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:t.gray("Enter something to filter")}
`}renderOption(o,p,f){let l;return p.disabled?l=o===f?t.gray().underline(p.title):t.strikethrough().gray(p.title):l=o===f?t.cyan().underline(p.title):p.title,(p.selected?t.green(d.radioOn):d.radioOff)+"  "+l}renderDoneOrInstructions(){if(this.done)return this.value.filter(p=>p.selected).map(p=>p.title).join(", ");const o=[t.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&o.push(t.yellow(this.warn)),o.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(i.hide),super.render();let o=[s.symbol(this.done,this.aborted),t.bold(this.msg),s.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(o+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),o+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+o),this.clear=u(o,this.out.columns)}}return ie=a,ie}var se,di;function sa(){if(di)return se;di=1;const t=I(),e=B(),i=F(),r=i.style,n=i.clear,u=C(),s=u.erase,d=u.cursor;class a extends e{constructor(o={}){super(o),this.msg=o.message,this.value=o.initial,this.initialValue=!!o.initial,this.yesMsg=o.yes||"yes",this.yesOption=o.yesOption||"(Y/n)",this.noMsg=o.no||"no",this.noOption=o.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(o,p){return o.toLowerCase()==="y"?(this.value=!0,this.submit()):o.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(d.hide):this.out.write(n(this.outputText,this.out.columns)),super.render(),this.outputText=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:t.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(s.line+d.to(0)+this.outputText))}}return se=a,se}var ne,fi;function na(){return fi||(fi=1,ne={TextPrompt:Bo(),SelectPrompt:Ho(),TogglePrompt:Uo(),DatePrompt:ta(),NumberPrompt:ea(),MultiselectPrompt:li(),AutocompletePrompt:ra(),AutocompleteMultiselectPrompt:ia(),ConfirmPrompt:sa()}),ne}var pi;function oa(){return pi||(pi=1,function(t){const e=t,i=na(),r=s=>s;function n(s,d,a={}){return new Promise((h,o)=>{const p=new i[s](d),f=a.onAbort||r,l=a.onSubmit||r,c=a.onExit||r;p.on("state",d.onState||r),p.on("submit",v=>h(l(v))),p.on("exit",v=>h(c(v))),p.on("abort",v=>o(f(v)))})}e.text=s=>n("TextPrompt",s),e.password=s=>(s.style="password",e.text(s)),e.invisible=s=>(s.style="invisible",e.text(s)),e.number=s=>n("NumberPrompt",s),e.date=s=>n("DatePrompt",s),e.confirm=s=>n("ConfirmPrompt",s),e.list=s=>{const d=s.separator||",";return n("TextPrompt",s,{onSubmit:a=>a.split(d).map(h=>h.trim())})},e.toggle=s=>n("TogglePrompt",s),e.select=s=>n("SelectPrompt",s),e.multiselect=s=>{s.choices=[].concat(s.choices||[]);const d=a=>a.filter(h=>h.selected).map(h=>h.value);return n("MultiselectPrompt",s,{onAbort:d,onSubmit:d})},e.autocompleteMultiselect=s=>{s.choices=[].concat(s.choices||[]);const d=a=>a.filter(h=>h.selected).map(h=>h.value);return n("AutocompleteMultiselectPrompt",s,{onAbort:d,onSubmit:d})};const u=(s,d)=>Promise.resolve(d.filter(a=>a.title.slice(0,s.length).toLowerCase()===s.toLowerCase()));e.autocomplete=s=>(s.suggest=s.suggest||u,s.choices=[].concat(s.choices||[]),n("AutocompletePrompt",s))}(Ot)),Ot}var oe,mi;function aa(){if(mi)return oe;mi=1;function t(b,g){var m=Object.keys(b);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(b);g&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(b,x).enumerable})),m.push.apply(m,y)}return m}function e(b){for(var g=1;g<arguments.length;g++){var m=arguments[g]!=null?arguments[g]:{};g%2?t(Object(m),!0).forEach(function(y){i(b,y,m[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(m)):t(Object(m)).forEach(function(y){Object.defineProperty(b,y,Object.getOwnPropertyDescriptor(m,y))})}return b}function i(b,g,m){return g in b?Object.defineProperty(b,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):b[g]=m,b}function r(b,g){var m=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!m){if(Array.isArray(b)||(m=n(b))||g&&b&&typeof b.length=="number"){m&&(b=m);var y=0,x=function(){};return{s:x,n:function(){return y>=b.length?{done:!0}:{done:!1,value:b[y++]}},e:function($){throw $},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w=!0,S=!1,O;return{s:function(){m=m.call(b)},n:function(){var $=m.next();return w=$.done,$},e:function($){S=!0,O=$},f:function(){try{!w&&m.return!=null&&m.return()}finally{if(S)throw O}}}}function n(b,g){if(b){if(typeof b=="string")return u(b,g);var m=Object.prototype.toString.call(b).slice(8,-1);if(m==="Object"&&b.constructor&&(m=b.constructor.name),m==="Map"||m==="Set")return Array.from(b);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return u(b,g)}}function u(b,g){(g==null||g>b.length)&&(g=b.length);for(var m=0,y=new Array(g);m<g;m++)y[m]=b[m];return y}function s(b,g,m,y,x,w,S){try{var O=b[w](S),P=O.value}catch($){m($);return}O.done?g(P):Promise.resolve(P).then(y,x)}function d(b){return function(){var g=this,m=arguments;return new Promise(function(y,x){var w=b.apply(g,m);function S(P){s(w,y,x,S,O,"next",P)}function O(P){s(w,y,x,S,O,"throw",P)}S(void 0)})}}const a=oa(),h=["suggest","format","onState","validate","onRender","type"],o=()=>{};function p(){return f.apply(this,arguments)}function f(){return f=d(function*(b=[],{onSubmit:g=o,onCancel:m=o}={}){const y={},x=p._override||{};b=[].concat(b);let w,S,O,P,$,T;const E=function(){var q=d(function*(D,Y,Ne=!1){if(!(!Ne&&D.validate&&D.validate(Y)!==!0))return D.format?yield D.format(Y,y):Y});return function(Y,Ne){return q.apply(this,arguments)}}();var _=r(b),R;try{for(_.s();!(R=_.n()).done;){S=R.value;var A=S;if(P=A.name,$=A.type,typeof $=="function"&&($=yield $(w,e({},y),S),S.type=$),!!$){for(let q in S){if(h.includes(q))continue;let D=S[q];S[q]=typeof D=="function"?yield D(w,e({},y),T):D}if(T=S,typeof S.message!="string")throw new Error("prompt message is required");var j=S;if(P=j.name,$=j.type,a[$]===void 0)throw new Error(`prompt type (${$}) is not defined`);if(x[S.name]!==void 0&&(w=yield E(S,x[S.name]),w!==void 0)){y[P]=w;continue}try{w=p._injected?l(p._injected,S.initial):yield a[$](S),y[P]=w=yield E(S,w,!0),O=yield g(S,w,y)}catch{O=!(yield m(S,y))}if(O)return y}}}catch(q){_.e(q)}finally{_.f()}return y}),f.apply(this,arguments)}function l(b,g){const m=b.shift();if(m instanceof Error)throw m;return m===void 0?g:m}function c(b){p._injected=(p._injected||[]).concat(b)}function v(b){p._override=Object.assign({},b)}return oe=Object.assign(p,{prompt:p,prompts:a,inject:c,override:v}),oe}var ae={},ue,gi;function ua(){return gi||(gi=1,ue=(t,e)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(e){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}),ue}var le,bi;function he(){return bi||(bi=1,le=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),i=new RegExp(e,"g");return typeof t=="string"?t.replace(i,""):t}),le}var ce,vi;function la(){if(vi)return ce;vi=1;const t=he(),{erase:e,cursor:i}=C(),r=n=>[...t(n)].length;return ce=function(n,u){if(!u)return e.line+i.to(0);let s=0;const d=n.split(/\r?\n/);for(let a of d)s+=1+Math.floor(Math.max(r(a)-1,0)/u);return e.lines(s)},ce}var de,yi;function wi(){if(yi)return de;yi=1;const t={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},e={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"};return de=process.platform==="win32"?e:t,de}var fe,xi;function ha(){if(xi)return fe;xi=1;const t=I(),e=wi(),i=Object.freeze({password:{scale:1,render:a=>"*".repeat(a.length)},emoji:{scale:2,render:a=>"\u{1F603}".repeat(a.length)},invisible:{scale:0,render:a=>""},default:{scale:1,render:a=>`${a}`}}),r=a=>i[a]||i.default,n=Object.freeze({aborted:t.red(e.cross),done:t.green(e.tick),exited:t.yellow(e.cross),default:t.cyan("?")});return fe={styles:i,render:r,symbols:n,symbol:(a,h,o)=>h?n.aborted:o?n.exited:a?n.done:n.default,delimiter:a=>t.gray(a?e.ellipsis:e.pointerSmall),item:(a,h)=>t.gray(a?h?e.pointerSmall:"+":e.line)},fe}var pe,Si;function ca(){if(Si)return pe;Si=1;const t=he();return pe=function(e,i){let r=String(t(e)||"").split(/\r?\n/);return i?r.map(n=>Math.ceil(n.length/i)).reduce((n,u)=>n+u):r.length},pe}var me,$i;function da(){return $i||($i=1,me=(t,e={})=>{const i=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",r=e.width;return(t||"").split(/\r?\n/g).map(n=>n.split(/\s+/g).reduce((u,s)=>(s.length+i.length>=r||u[u.length-1].length+s.length+1<r?u[u.length-1]+=` ${s}`:u.push(`${i}${s}`),u),[i]).join(`
`)).join(`
`)}),me}var ge,Ti;function fa(){return Ti||(Ti=1,ge=(t,e,i)=>{i=i||e;let r=Math.min(e-i,t-Math.floor(i/2));r<0&&(r=0);let n=Math.min(r+i,e);return{startIndex:r,endIndex:n}}),ge}var be,Pi;function G(){return Pi||(Pi=1,be={action:ua(),clear:la(),style:ha(),strip:he(),figures:wi(),lines:ca(),wrap:da(),entriesToDisplay:fa()}),be}var ve,Oi;function H(){if(Oi)return ve;Oi=1;const t=Ye,{action:e}=G(),i=Ve,{beep:r,cursor:n}=C(),u=I();class s extends i{constructor(a={}){super(),this.firstRender=!0,this.in=a.stdin||process.stdin,this.out=a.stdout||process.stdout,this.onRender=(a.onRender||(()=>{})).bind(this);const h=t.createInterface({input:this.in,escapeCodeTimeout:50});t.emitKeypressEvents(this.in,h),this.in.isTTY&&this.in.setRawMode(!0);const o=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,p=(f,l)=>{let c=e(l,o);c===!1?this._&&this._(f,l):typeof this[c]=="function"?this[c](l):this.bell()};this.close=()=>{this.out.write(n.show),this.in.removeListener("keypress",p),this.in.isTTY&&this.in.setRawMode(!1),h.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",p)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(r)}render(){this.onRender(u),this.firstRender&&(this.firstRender=!1)}}return ve=s,ve}var ye,Ei;function pa(){if(Ei)return ye;Ei=1;const t=I(),e=H(),{erase:i,cursor:r}=C(),{style:n,clear:u,lines:s,figures:d}=G();class a extends e{constructor(o={}){super(o),this.transform=n.render(o.style),this.scale=this.transform.scale,this.msg=o.message,this.initial=o.initial||"",this.validator=o.validate||(()=>!0),this.value="",this.errorMsg=o.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=u("",this.out.columns),this.render()}set value(o){!o&&this.initial?(this.placeholder=!0,this.rendered=t.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(o)),this._value=o,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let o=await this.validator(this.value);typeof o=="string"&&(this.errorMsg=o,o=!1),this.error=!o}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(o){this.placeholder||(this.cursor=this.cursor+o,this.cursorOffset+=o)}_(o,p){let f=this.value.slice(0,this.cursor),l=this.value.slice(this.cursor);this.value=`${f}${o}${l}`,this.red=!1,this.cursor=this.placeholder?0:f.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let o=this.value.slice(0,this.cursor-1),p=this.value.slice(this.cursor);this.value=`${o}${p}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let o=this.value.slice(0,this.cursor),p=this.value.slice(this.cursor+1);this.value=`${o}${p}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(r.down(s(this.outputError,this.out.columns)-1)+u(this.outputError,this.out.columns)),this.out.write(u(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[n.symbol(this.done,this.aborted),t.bold(this.msg),n.delimiter(this.done),this.red?t.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((o,p,f)=>o+`
${f?" ":d.pointerSmall} ${t.red().italic(p)}`,"")),this.out.write(i.line+r.to(0)+this.outputText+r.save+this.outputError+r.restore+r.move(this.cursorOffset,0)))}}return ye=a,ye}var we,Mi;function ma(){if(Mi)return we;Mi=1;const t=I(),e=H(),{style:i,clear:r,figures:n,wrap:u,entriesToDisplay:s}=G(),{cursor:d}=C();class a extends e{constructor(o={}){super(o),this.msg=o.message,this.hint=o.hint||"- Use arrow-keys. Return to submit.",this.warn=o.warn||"- This option is disabled",this.cursor=o.initial||0,this.choices=o.choices.map((p,f)=>(typeof p=="string"&&(p={title:p,value:f}),{title:p&&(p.title||p.value||p),value:p&&(p.value===void 0?f:p.value),description:p&&p.description,selected:p&&p.selected,disabled:p&&p.disabled})),this.optionsPerPage=o.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=r("",this.out.columns),this.render()}moveCursor(o){this.cursor=o,this.value=this.choices[o].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(o,p){if(o===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(d.hide):this.out.write(r(this.outputText,this.out.columns)),super.render();let{startIndex:o,endIndex:p}=s(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(!1),this.done?this.selection.title:this.selection.disabled?t.yellow(this.warn):t.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let f=o;f<p;f++){let l,c,v="",b=this.choices[f];f===o&&o>0?c=n.arrowUp:f===p-1&&p<this.choices.length?c=n.arrowDown:c=" ",b.disabled?(l=this.cursor===f?t.gray().underline(b.title):t.strikethrough().gray(b.title),c=(this.cursor===f?t.bold().gray(n.pointer)+" ":"  ")+c):(l=this.cursor===f?t.cyan().underline(b.title):b.title,c=(this.cursor===f?t.cyan(n.pointer)+" ":"  ")+c,b.description&&this.cursor===f&&(v=` - ${b.description}`,(c.length+l.length+v.length>=this.out.columns||b.description.split(/\r?\n/).length>1)&&(v=`
`+u(b.description,{margin:3,width:this.out.columns})))),this.outputText+=`${c} ${l}${t.gray(v)}
`}}this.out.write(this.outputText)}}return we=a,we}var xe,Ii;function ga(){if(Ii)return xe;Ii=1;const t=I(),e=H(),{style:i,clear:r}=G(),{cursor:n,erase:u}=C();class s extends e{constructor(a={}){super(a),this.msg=a.message,this.value=!!a.initial,this.active=a.active||"on",this.inactive=a.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(a,h){if(a===" ")this.value=!this.value;else if(a==="1")this.value=!0;else if(a==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(n.hide):this.out.write(r(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(this.done),this.value?this.inactive:t.cyan().underline(this.inactive),t.gray("/"),this.value?t.cyan().underline(this.active):this.active].join(" "),this.out.write(u.line+n.to(0)+this.outputText))}}return xe=s,xe}var Se,Ci;function N(){if(Ci)return Se;Ci=1;class t{constructor({token:i,date:r,parts:n,locales:u}){this.token=i,this.date=r||new Date,this.parts=n||[this],this.locales=u||{}}up(){}down(){}next(){const i=this.parts.indexOf(this);return this.parts.find((r,n)=>n>i&&r instanceof t)}setTo(i){}prev(){let i=[].concat(this.parts).reverse();const r=i.indexOf(this);return i.find((n,u)=>u>r&&n instanceof t)}toString(){return String(this.date)}}return Se=t,Se}var $e,Ri;function ba(){if(Ri)return $e;Ri=1;const t=N();class e extends t{constructor(r={}){super(r)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let r=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?r.toUpperCase():r}}return $e=e,$e}var Te,Ai;function va(){if(Ai)return Te;Ai=1;const t=N(),e=r=>(r=r%10,r===1?"st":r===2?"nd":r===3?"rd":"th");class i extends t{constructor(n={}){super(n)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(n){this.date.setDate(parseInt(n.substr(-2)))}toString(){let n=this.date.getDate(),u=this.date.getDay();return this.token==="DD"?String(n).padStart(2,"0"):this.token==="Do"?n+e(n):this.token==="d"?u+1:this.token==="ddd"?this.locales.weekdaysShort[u]:this.token==="dddd"?this.locales.weekdays[u]:n}}return Te=i,Te}var Pe,Di;function ya(){if(Di)return Pe;Di=1;const t=N();class e extends t{constructor(r={}){super(r)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(r){this.date.setHours(parseInt(r.substr(-2)))}toString(){let r=this.date.getHours();return/h/.test(this.token)&&(r=r%12||12),this.token.length>1?String(r).padStart(2,"0"):r}}return Pe=e,Pe}var Oe,_i;function wa(){if(_i)return Oe;_i=1;const t=N();class e extends t{constructor(r={}){super(r)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(r){this.date.setMilliseconds(parseInt(r.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return Oe=e,Oe}var Ee,qi;function xa(){if(qi)return Ee;qi=1;const t=N();class e extends t{constructor(r={}){super(r)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(r){this.date.setMinutes(parseInt(r.substr(-2)))}toString(){let r=this.date.getMinutes();return this.token.length>1?String(r).padStart(2,"0"):r}}return Ee=e,Ee}var Me,ji;function Sa(){if(ji)return Me;ji=1;const t=N();class e extends t{constructor(r={}){super(r)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(r){r=parseInt(r.substr(-2))-1,this.date.setMonth(r<0?0:r)}toString(){let r=this.date.getMonth(),n=this.token.length;return n===2?String(r+1).padStart(2,"0"):n===3?this.locales.monthsShort[r]:n===4?this.locales.months[r]:String(r+1)}}return Me=e,Me}var Ie,ki;function $a(){if(ki)return Ie;ki=1;const t=N();class e extends t{constructor(r={}){super(r)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(r){this.date.setSeconds(parseInt(r.substr(-2)))}toString(){let r=this.date.getSeconds();return this.token.length>1?String(r).padStart(2,"0"):r}}return Ie=e,Ie}var Ce,Fi;function Ta(){if(Fi)return Ce;Fi=1;const t=N();class e extends t{constructor(r={}){super(r)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(r){this.date.setFullYear(r.substr(-4))}toString(){let r=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?r.substr(-2):r}}return Ce=e,Ce}var Re,Gi;function Pa(){return Gi||(Gi=1,Re={DatePart:N(),Meridiem:ba(),Day:va(),Hours:ya(),Milliseconds:wa(),Minutes:xa(),Month:Sa(),Seconds:$a(),Year:Ta()}),Re}var Ae,Li;function Oa(){if(Li)return Ae;Li=1;const t=I(),e=H(),{style:i,clear:r,figures:n}=G(),{erase:u,cursor:s}=C(),{DatePart:d,Meridiem:a,Day:h,Hours:o,Milliseconds:p,Minutes:f,Month:l,Seconds:c,Year:v}=Pa(),b=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,g={1:({token:x})=>x.replace(/\\(.)/g,"$1"),2:x=>new h(x),3:x=>new l(x),4:x=>new v(x),5:x=>new a(x),6:x=>new o(x),7:x=>new f(x),8:x=>new c(x),9:x=>new p(x)},m={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class y extends e{constructor(w={}){super(w),this.msg=w.message,this.cursor=0,this.typed="",this.locales=Object.assign(m,w.locales),this._date=w.initial||new Date,this.errorMsg=w.error||"Please Enter A Valid Value",this.validator=w.validate||(()=>!0),this.mask=w.mask||"YYYY-MM-DD HH:mm:ss",this.clear=r("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(w){w&&this._date.setTime(w.getTime())}set mask(w){let S;for(this.parts=[];S=b.exec(w);){let P=S.shift(),$=S.findIndex(T=>T!=null);this.parts.push($ in g?g[$]({token:S[$]||P,date:this.date,parts:this.parts,locales:this.locales}):S[$]||P)}let O=this.parts.reduce((P,$)=>(typeof $=="string"&&typeof P[P.length-1]=="string"?P[P.length-1]+=$:P.push($),P),[]);this.parts.splice(0),this.parts.push(...O),this.reset()}moveCursor(w){this.typed="",this.cursor=w,this.fire()}reset(){this.moveCursor(this.parts.findIndex(w=>w instanceof d)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let w=await this.validator(this.value);typeof w=="string"&&(this.errorMsg=w,w=!1),this.error=!w}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let w=this.parts[this.cursor].prev();if(w==null)return this.bell();this.moveCursor(this.parts.indexOf(w)),this.render()}right(){let w=this.parts[this.cursor].next();if(w==null)return this.bell();this.moveCursor(this.parts.indexOf(w)),this.render()}next(){let w=this.parts[this.cursor].next();this.moveCursor(w?this.parts.indexOf(w):this.parts.findIndex(S=>S instanceof d)),this.render()}_(w){/\d/.test(w)&&(this.typed+=w,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(s.hide):this.out.write(r(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(!1),this.parts.reduce((w,S,O)=>w.concat(O===this.cursor&&!this.done?t.cyan().underline(S.toString()):S),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((w,S,O)=>w+`
${O?" ":n.pointerSmall} ${t.red().italic(S)}`,"")),this.out.write(u.line+s.to(0)+this.outputText))}}return Ae=y,Ae}var De,Ni;function Ea(){if(Ni)return De;Ni=1;const t=I(),e=H(),{cursor:i,erase:r}=C(),{style:n,figures:u,clear:s,lines:d}=G(),a=/[0-9]/,h=f=>f!==void 0,o=(f,l)=>{let c=Math.pow(10,l);return Math.round(f*c)/c};class p extends e{constructor(l={}){super(l),this.transform=n.render(l.style),this.msg=l.message,this.initial=h(l.initial)?l.initial:"",this.float=!!l.float,this.round=l.round||2,this.inc=l.increment||1,this.min=h(l.min)?l.min:-1/0,this.max=h(l.max)?l.max:1/0,this.errorMsg=l.error||"Please Enter A Valid Value",this.validator=l.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(l){!l&&l!==0?(this.placeholder=!0,this.rendered=t.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${o(l,this.round)}`),this._value=o(l,this.round)),this.fire()}get value(){return this._value}parse(l){return this.float?parseFloat(l):parseInt(l)}valid(l){return l==="-"||l==="."&&this.float||a.test(l)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let l=this.value;this.value=l!==""?l:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let l=await this.validator(this.value);typeof l=="string"&&(this.errorMsg=l,l=!1),this.error=!l}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let l=this.value;this.value=l!==""?l:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let l=this.value.toString();if(l.length===0)return this.bell();this.value=this.parse(l=l.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(l,c){if(!this.valid(l))return this.bell();const v=Date.now();if(v-this.lastHit>1e3&&(this.typed=""),this.typed+=l,this.lastHit=v,this.color="cyan",l===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(i.down(d(this.outputError,this.out.columns)-1)+s(this.outputError,this.out.columns)),this.out.write(s(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[n.symbol(this.done,this.aborted),t.bold(this.msg),n.delimiter(this.done),!this.done||!this.done&&!this.placeholder?t[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((l,c,v)=>l+`
${v?" ":u.pointerSmall} ${t.red().italic(c)}`,"")),this.out.write(r.line+i.to(0)+this.outputText+i.save+this.outputError+i.restore))}}return De=p,De}var _e,Bi;function Hi(){if(Bi)return _e;Bi=1;const t=I(),{cursor:e}=C(),i=H(),{clear:r,figures:n,style:u,wrap:s,entriesToDisplay:d}=G();class a extends i{constructor(o={}){super(o),this.msg=o.message,this.cursor=o.cursor||0,this.scrollIndex=o.cursor||0,this.hint=o.hint||"",this.warn=o.warn||"- This option is disabled -",this.minSelected=o.min,this.showMinError=!1,this.maxChoices=o.max,this.instructions=o.instructions,this.optionsPerPage=o.optionsPerPage||10,this.value=o.choices.map((p,f)=>(typeof p=="string"&&(p={title:p,value:f}),{title:p&&(p.title||p.value||p),description:p&&p.description,value:p&&(p.value===void 0?f:p.value),selected:p&&p.selected,disabled:p&&p.disabled})),this.clear=r("",this.out.columns),o.overrideRender||this.render()}reset(){this.value.map(o=>!o.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(o=>o.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const o=this.value.filter(p=>p.selected);this.minSelected&&o.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(o=>o.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const o=this.value[this.cursor];if(o.selected)o.selected=!1,this.render();else{if(o.disabled||this.value.filter(p=>p.selected).length>=this.maxChoices)return this.bell();o.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const o=!this.value[this.cursor].selected;this.value.filter(p=>!p.disabled).forEach(p=>p.selected=o),this.render()}_(o,p){if(o===" ")this.handleSpaceToggle();else if(o==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${n.arrowUp}/${n.arrowDown}: Highlight option
    ${n.arrowLeft}/${n.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(o,p,f,l){const c=(p.selected?t.green(n.radioOn):n.radioOff)+" "+l+" ";let v,b;return p.disabled?v=o===f?t.gray().underline(p.title):t.strikethrough().gray(p.title):(v=o===f?t.cyan().underline(p.title):p.title,o===f&&p.description&&(b=` - ${p.description}`,(c.length+v.length+b.length>=this.out.columns||p.description.split(/\r?\n/).length>1)&&(b=`
`+s(p.description,{margin:c.length,width:this.out.columns})))),c+v+t.gray(b||"")}paginateOptions(o){if(o.length===0)return t.red("No matches for this query.");let{startIndex:p,endIndex:f}=d(this.cursor,o.length,this.optionsPerPage),l,c=[];for(let v=p;v<f;v++)v===p&&p>0?l=n.arrowUp:v===f-1&&f<o.length?l=n.arrowDown:l=" ",c.push(this.renderOption(this.cursor,o[v],v,l));return`
`+c.join(`
`)}renderOptions(o){return this.done?"":this.paginateOptions(o)}renderDoneOrInstructions(){if(this.done)return this.value.filter(p=>p.selected).map(p=>p.title).join(", ");const o=[t.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&o.push(t.yellow(this.warn)),o.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let o=[u.symbol(this.done,this.aborted),t.bold(this.msg),u.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(o+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),o+=this.renderOptions(this.value),this.out.write(this.clear+o),this.clear=r(o,this.out.columns)}}return _e=a,_e}var qe,Ui;function Ma(){if(Ui)return qe;Ui=1;const t=I(),e=H(),{erase:i,cursor:r}=C(),{style:n,clear:u,figures:s,wrap:d,entriesToDisplay:a}=G(),h=(l,c)=>l[c]&&(l[c].value||l[c].title||l[c]),o=(l,c)=>l[c]&&(l[c].title||l[c].value||l[c]),p=(l,c)=>{const v=l.findIndex(b=>b.value===c||b.title===c);return v>-1?v:void 0};class f extends e{constructor(c={}){super(c),this.msg=c.message,this.suggest=c.suggest,this.choices=c.choices,this.initial=typeof c.initial=="number"?c.initial:p(c.choices,c.initial),this.select=this.initial||c.cursor||0,this.i18n={noMatches:c.noMatches||"no matches found"},this.fallback=c.fallback||this.initial,this.clearFirst=c.clearFirst||!1,this.suggestions=[],this.input="",this.limit=c.limit||10,this.cursor=0,this.transform=n.render(c.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=u("",this.out.columns),this.complete(this.render),this.render()}set fallback(c){this._fb=Number.isSafeInteger(parseInt(c))?parseInt(c):c}get fallback(){let c;return typeof this._fb=="number"?c=this.choices[this._fb]:typeof this._fb=="string"&&(c={title:this._fb}),c||this._fb||{title:this.i18n.noMatches}}moveSelect(c){this.select=c,this.suggestions.length>0?this.value=h(this.suggestions,c):this.value=this.fallback.value,this.fire()}async complete(c){const v=this.completing=this.suggest(this.input,this.choices),b=await v;if(this.completing!==v)return;this.suggestions=b.map((m,y,x)=>({title:o(x,y),value:h(x,y),description:m.description})),this.completing=!1;const g=Math.max(b.length-1,0);this.moveSelect(Math.min(g,this.select)),c&&c()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(c,v){let b=this.input.slice(0,this.cursor),g=this.input.slice(this.cursor);this.input=`${b}${c}${g}`,this.cursor=b.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let c=this.input.slice(0,this.cursor-1),v=this.input.slice(this.cursor);this.input=`${c}${v}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let c=this.input.slice(0,this.cursor),v=this.input.slice(this.cursor+1);this.input=`${c}${v}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(c,v,b,g){let m,y=b?s.arrowUp:g?s.arrowDown:" ",x=v?t.cyan().underline(c.title):c.title;return y=(v?t.cyan(s.pointer)+" ":"  ")+y,c.description&&(m=` - ${c.description}`,(y.length+x.length+m.length>=this.out.columns||c.description.split(/\r?\n/).length>1)&&(m=`
`+d(c.description,{margin:3,width:this.out.columns}))),y+" "+x+t.gray(m||"")}render(){if(this.closed)return;this.firstRender?this.out.write(r.hide):this.out.write(u(this.outputText,this.out.columns)),super.render();let{startIndex:c,endIndex:v}=a(this.select,this.choices.length,this.limit);if(this.outputText=[n.symbol(this.done,this.aborted,this.exited),t.bold(this.msg),n.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const b=this.suggestions.slice(c,v).map((g,m)=>this.renderOption(g,this.select===m+c,m===0&&c>0,m+c===v-1&&v<this.choices.length)).join(`
`);this.outputText+=`
`+(b||t.gray(this.fallback.title))}this.out.write(i.line+r.to(0)+this.outputText)}}return qe=f,qe}var je,Yi;function Ia(){if(Yi)return je;Yi=1;const t=I(),{cursor:e}=C(),i=Hi(),{clear:r,style:n,figures:u}=G();class s extends i{constructor(a={}){a.overrideRender=!0,super(a),this.inputValue="",this.clear=r("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const a=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(o=>this.inputValue?!!(typeof o.title=="string"&&o.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof o.value=="string"&&o.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const h=this.filteredOptions.findIndex(o=>o===a);this.cursor=h<0?0:h,this.render()}handleSpaceToggle(){const a=this.filteredOptions[this.cursor];if(a.selected)a.selected=!1,this.render();else{if(a.disabled||this.value.filter(h=>h.selected).length>=this.maxChoices)return this.bell();a.selected=!0,this.render()}}handleInputChange(a){this.inputValue=this.inputValue+a,this.updateFilteredOptions()}_(a,h){a===" "?this.handleSpaceToggle():this.handleInputChange(a)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${u.arrowUp}/${u.arrowDown}: Highlight option
    ${u.arrowLeft}/${u.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:t.gray("Enter something to filter")}
`}renderOption(a,h,o){let p;return h.disabled?p=a===o?t.gray().underline(h.title):t.strikethrough().gray(h.title):p=a===o?t.cyan().underline(h.title):h.title,(h.selected?t.green(u.radioOn):u.radioOff)+"  "+p}renderDoneOrInstructions(){if(this.done)return this.value.filter(h=>h.selected).map(h=>h.title).join(", ");const a=[t.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&a.push(t.yellow(this.warn)),a.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let a=[n.symbol(this.done,this.aborted),t.bold(this.msg),n.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(a+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),a+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+a),this.clear=r(a,this.out.columns)}}return je=s,je}var ke,Vi;function Ca(){if(Vi)return ke;Vi=1;const t=I(),e=H(),{style:i,clear:r}=G(),{erase:n,cursor:u}=C();class s extends e{constructor(a={}){super(a),this.msg=a.message,this.value=a.initial,this.initialValue=!!a.initial,this.yesMsg=a.yes||"yes",this.yesOption=a.yesOption||"(Y/n)",this.noMsg=a.no||"no",this.noOption=a.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(a,h){return a.toLowerCase()==="y"?(this.value=!0,this.submit()):a.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(u.hide):this.out.write(r(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:t.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(n.line+u.to(0)+this.outputText))}}return ke=s,ke}var Fe,Wi;function Ra(){return Wi||(Wi=1,Fe={TextPrompt:pa(),SelectPrompt:ma(),TogglePrompt:ga(),DatePrompt:Oa(),NumberPrompt:Ea(),MultiselectPrompt:Hi(),AutocompletePrompt:Ma(),AutocompleteMultiselectPrompt:Ia(),ConfirmPrompt:Ca()}),Fe}var zi;function Aa(){return zi||(zi=1,function(t){const e=t,i=Ra(),r=s=>s;function n(s,d,a={}){return new Promise((h,o)=>{const p=new i[s](d),f=a.onAbort||r,l=a.onSubmit||r,c=a.onExit||r;p.on("state",d.onState||r),p.on("submit",v=>h(l(v))),p.on("exit",v=>h(c(v))),p.on("abort",v=>o(f(v)))})}e.text=s=>n("TextPrompt",s),e.password=s=>(s.style="password",e.text(s)),e.invisible=s=>(s.style="invisible",e.text(s)),e.number=s=>n("NumberPrompt",s),e.date=s=>n("DatePrompt",s),e.confirm=s=>n("ConfirmPrompt",s),e.list=s=>{const d=s.separator||",";return n("TextPrompt",s,{onSubmit:a=>a.split(d).map(h=>h.trim())})},e.toggle=s=>n("TogglePrompt",s),e.select=s=>n("SelectPrompt",s),e.multiselect=s=>{s.choices=[].concat(s.choices||[]);const d=a=>a.filter(h=>h.selected).map(h=>h.value);return n("MultiselectPrompt",s,{onAbort:d,onSubmit:d})},e.autocompleteMultiselect=s=>{s.choices=[].concat(s.choices||[]);const d=a=>a.filter(h=>h.selected).map(h=>h.value);return n("AutocompleteMultiselectPrompt",s,{onAbort:d,onSubmit:d})};const u=(s,d)=>Promise.resolve(d.filter(a=>a.title.slice(0,s.length).toLowerCase()===s.toLowerCase()));e.autocomplete=s=>(s.suggest=s.suggest||u,s.choices=[].concat(s.choices||[]),n("AutocompletePrompt",s))}(ae)),ae}var Ge,Ki;function Da(){if(Ki)return Ge;Ki=1;const t=Aa(),e=["suggest","format","onState","validate","onRender","type"],i=()=>{};async function r(d=[],{onSubmit:a=i,onCancel:h=i}={}){const o={},p=r._override||{};d=[].concat(d);let f,l,c,v,b,g;const m=async(y,x,w=!1)=>{if(!(!w&&y.validate&&y.validate(x)!==!0))return y.format?await y.format(x,o):x};for(l of d)if({name:v,type:b}=l,typeof b=="function"&&(b=await b(f,{...o},l),l.type=b),!!b){for(let y in l){if(e.includes(y))continue;let x=l[y];l[y]=typeof x=="function"?await x(f,{...o},g):x}if(g=l,typeof l.message!="string")throw new Error("prompt message is required");if({name:v,type:b}=l,t[b]===void 0)throw new Error(`prompt type (${b}) is not defined`);if(p[l.name]!==void 0&&(f=await m(l,p[l.name]),f!==void 0)){o[v]=f;continue}try{f=r._injected?n(r._injected,l.initial):await t[b](l),o[v]=f=await m(l,f,!0),c=await a(l,f,o)}catch{c=!await h(l,o)}if(c)return o}return o}function n(d,a){const h=d.shift();if(h instanceof Error)throw h;return h===void 0?a:h}function u(d){r._injected=(r._injected||[]).concat(d)}function s(d){r._override=Object.assign({},d)}return Ge=Object.assign(r,{prompt:r,prompts:t,inject:u,override:s}),Ge}function _a(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let e=0,i=process.versions.node.split(".").map(Number);for(;e<t.length;e++){if(i[e]>t[e])return!1;if(t[e]>i[e])return!0}return!1}var qa=_a("8.6.0")?aa():Da();const ja=J(qa),ka=[{name:"vue-ts-h5",color:U.green},{name:"react-ts-h5",color:U.blue}],Fa=process.cwd(),Le=is(st(import.meta.url)),Ga=()=>{const t=it(Le,"../package.json"),e=JSON.parse(Be(t,"utf-8"));console.log(U.cyan(`xm-create-vite ${e.version}`))};Ga();const Ji=(t,e)=>{const i=es(t);rs(t,e,{recursive:i.isDirectory()})},La=async()=>{try{const t=await ja([{type:"text",name:"project",message:U.yellow("Project name:"),initial:`project-${Date.now()}`},{type:"select",name:"template",message:"Select a template:",choices:ka.map(d=>({title:d.color(d.name),value:d.name}))},{type:"confirm",name:"download",message:"Do you want to download dependencies?",initial:!0}]),e=`${Fa}/${t.project}`,i=it(Le,`../src/templates/${t.template}`),r=it(Le,"../src/common");Ji(i,e),Ji(r,`${e}/src`);const n=`${e}/package.json`,u=JSON.parse(Be(n,"utf-8"));Object.assign(u,{name:t.project,version:"1.0.0",description:"",author:"",private:!0}),Qi(n,JSON.stringify(u,null,2));const s=`${e}/_gitignore`;ts(s,`${e}/.gitignore`),console.log(U.green(`Project ${t.project} created successfully!`)),t.download&&(console.log(U.yellow("Installing dependencies...")),Ao("pnpm",["install"],{cwd:e,stdio:"inherit"}).then(()=>{console.log(U.green("Dependencies installed successfully!"))}))}catch{}};La();
